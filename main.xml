<simulation xmlns:xi="http://www.w3.org/2001/XInclude">


  <schematype>flat</schematype>
  <control>
    <duration>2400</duration>
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
    <decay>never</decay>
    <tolerance_resource>1e-5</tolerance_resource>
  </control>

  <archetypes>
    <spec> <lib>cycamore</lib> <name>Source</name></spec>
    <spec> <lib>cycamore</lib> <name>DeployInst</name></spec>
    <spec> <lib>cycamore</lib> <name>Sink</name></spec>
    <spec> <lib>cycamore</lib> <name>Enrichment</name> </spec>
    <spec> <lib>cycamore</lib> <name>Reactor</name> </spec>
    <spec> <lib>cycamore</lib> <name>Storage</name> </spec>
    <spec> <lib>cycamore</lib> <name>FuelFab</name> </spec>
    <spec> <lib>cycamore</lib> <name>Separations</name> </spec>
  </archetypes>

  <prototype>
    <name>enrichment</name>
    <config>
      <Enrichment>
        <feed_commod>natl_u</feed_commod>
        <feed_recipe>natl_u</feed_recipe>
        <product_commod>UOX</product_commod>
        <tails_commod>DU</tails_commod>
        <tails_assay>0.0025</tails_assay>
        <swu_capacity>1e100</swu_capacity>
        <initial_feed>1e100</initial_feed>
      </Enrichment>
    </config>
  </prototype>


  <prototype>
    <name>DU_Storage</name>
    <config>
      <Storage>
        <in_commods><val>DU</val></in_commods>
        <out_commods><val>DU_stored</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>




  <prototype>
    <name>Separation</name>
    <config>
      <Separations>
        <leftover_commod>waste</leftover_commod>
        <throughput>60000</throughput>
        <feedbuf_size>66000</feedbuf_size>
        <feed_commods>
          <val>UOX_A_spent_stored</val>
          <val>UOX_B_spent_stored</val>
          <val>SFR_A_spent_stored</val>
          <val>SFR_B_spent_stored</val>
        </feed_commods>
        <feed_commod_prefs>
          <val>3.0</val>
          <val>3.0</val>
          <val>2.0</val>
          <val>1.0</val>
        </feed_commod_prefs>
        <streams>
          <item>
            <commod>pu</commod>
            <info>
              <buf_size>6000</buf_size>
              <efficiencies>
                <item> <comp>Pu</comp> <eff>.99</eff> </item>
              </efficiencies>
            </info>
          </item>
          <item>
            <commod>RU</commod>
            <info>
              <buf_size>1e100</buf_size>
              <efficiencies>
                <item> <comp>U</comp> <eff>.99</eff> </item>
              </efficiencies>
            </info>
          </item>
        </streams>

      </Separations>
    </config>
  </prototype>


  <prototype>
    <name>RU_Storage</name>
    <config>
      <Storage>
        <in_commods><val>RU</val></in_commods>
        <out_commods><val>RU_stored</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>


  <prototype>
    <name>depleted_src</name>
    <config>
      <Source>
        <outcommod>depleted_u</outcommod>
        <outrecipe>depleted_u</outrecipe>
        <throughput>1e100</throughput>
      </Source>
    </config>
  </prototype>


  <prototype>
    <name>waste</name>
    <config>
      <Sink>
        <in_commods><val>waste</val></in_commods>
        <capacity>1e100</capacity>
      </Sink>
    </config>
  </prototype>

  <prototype>
    <name>deployer</name>
    <config>
      <DeployInst>
        <prototypes>
          <val>waste</val>
          <val>enrichment</val>
          <val>depleted_src</val>
          <val>DU_Storage</val>
          <val>RU_Storage</val>
        </prototypes>

        <build_times>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
        </build_times>

        <n_build>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
        </n_build>
      </DeployInst>
    </config>
  </prototype>


  <xi:include href="lwr_a.xml" xpointer="xpointer(//My_include/*)"/>
  <xi:include href="lwr_b.xml" xpointer="xpointer(//My_include/*)"/>
  <xi:include href="sfr_a.xml" xpointer="xpointer(//My_include/*)"/>
  <xi:include href="sfr_b.xml" xpointer="xpointer(//My_include/*)"/>



  <agent> <name>deployer1</name> <prototype>deployer</prototype> </agent>
  <agent> <name>deployer2</name> <prototype>deployer_supply_LWR_A</prototype> </agent>
  <agent> <name>deployer3</name> <prototype>deployer_supply_LWR_B</prototype> </agent>
  <agent> <name>deployer4</name> <prototype>deployer_supply_SFR_A</prototype> </agent>
  <agent> <name>deployer5</name> <prototype>deployer_supply_SFR_B</prototype> </agent>
  <agent> <name>deployer6</name> <prototype>Sep_deployer</prototype> </agent>


  <agent> <name>init_reactor</name> <prototype>init_reactor_deployer_LWR_A</prototype> </agent>
  <agent> <name>r_deployer_LWR_B</name> <prototype>reactor_deployer_LWR_B</prototype> </agent>
  <agent> <name>r_deployer_SFR_A</name> <prototype>reactor_deployer_SFR_A</prototype> </agent>
  <agent> <name>r_deployer_SFR_B</name> <prototype>reactor_deployer_SFR_B</prototype> </agent>

  <agent> <name>f_deployer_SFR_A</name> <prototype>fabrication_deployer_SFR_A</prototype> </agent>
  <agent> <name>f_deployer_SFR_B</name> <prototype>fabrication_deployer_SFR_B</prototype> </agent>




  <prototype>
    <name>Sep_deployer</name>
    <config>
      <DeployInst>
        <prototypes>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>        
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
          <val>Separation</val>
        </prototypes>
        <n_build>
          <val>6</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>2</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>4</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>8</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>2</val>
          <val>1</val>
          <val>3</val>
          <val>1</val>
          <val>1</val>
          <val>1</val>
          <val>4</val>
          <val>1</val>
          <val>1</val>
        </n_build>

        <build_times>
          <val>397</val>
          <val>565</val>
          <val>721</val>
          <val>793</val>
          <val>817</val>
          <val>865</val>
          <val>913</val>
          <val>961</val>
          <val>973</val>
          <val>1009</val>
          <val>1033</val>
          <val>1057</val>
          <val>1069</val>
          <val>1105</val>
          <val>1129</val>
          <val>1141</val>
          <val>1153</val>
          <val>1165</val>
          <val>1177</val>
          <val>1201</val>
          <val>1225</val>
          <val>1237</val>
          <val>1249</val>
          <val>1261</val>
          <val>1273</val>
          <val>1285</val>
          <val>1297</val>
          <val>1309</val>
          <val>1321</val>
          <val>1333</val>
          <val>1345</val>
          <val>1357</val>
          <val>1369</val>
          <val>1381</val>
          <val>1393</val>
          <val>1405</val>
          <val>1417</val>
          <val>1429</val>
          <val>1441</val>
          <val>1453</val>
          <val>1477</val>
          <val>1489</val>
          <val>1501</val>
          <val>1513</val>
          <val>1525</val>
          <val>1537</val>
          <val>1549</val>
          <val>1561</val>
          <val>1573</val>
          <val>1585</val>
          <val>1597</val>
          <val>1609</val>
          <val>1621</val>
          <val>1645</val>
          <val>1657</val>
          <val>1681</val>
          <val>1693</val>
          <val>1717</val>
          <val>1741</val>
          <val>1765</val>
          <val>1777</val>
          <val>1801</val>
          <val>1825</val>
          <val>1837</val>
          <val>1849</val>
          <val>1873</val>
          <val>1897</val>
          <val>1921</val>
          <val>1933</val>
          <val>1957</val>
          <val>1969</val>
          <val>1981</val>
          <val>1993</val>
          <val>2017</val>
          <val>2029</val>
          <val>2053</val>
          <val>2065</val>
          <val>2077</val>
          <val>2113</val>
          <val>2149</val>
          <val>2161</val>
          <val>2197</val>
          <val>2209</val>
          <val>2221</val>
          <val>2233</val>
          <val>2293</val>
          <val>2305</val>
        </build_times>

      </DeployInst>
    </config>
  </prototype>









  <recipe>
    <name>depleted_u</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id><comp>0.0025</comp></nuclide>
    <nuclide><id>U238</id><comp>0.9975</comp></nuclide>
  </recipe>

  <recipe>
    <name>natl_u</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id> <comp>0.711</comp> </nuclide>
    <nuclide> <id>U238</id> <comp>99.289</comp> </nuclide>
  </recipe>

  <recipe>
    <name>UOX</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id><comp>0.042</comp></nuclide>
    <nuclide><id>U238</id><comp>0.958</comp></nuclide>
  </recipe>

  <recipe>
    <name>UOX_spent_bak</name>
    <basis>mass</basis>
    <nuclide><id>U235</id> <comp>.008</comp> </nuclide>
    <nuclide><id>U238</id> <comp> 0.9245</comp></nuclide>
    <nuclide><id>Pu239</id> <comp>0.0143</comp></nuclide>
    <nuclide><id>Am241</id> <comp>0.0011</comp></nuclide>

    <nuclide> <id>Cs137</id> <comp>0.0521</comp> </nuclide>
  </recipe>

  <recipe>
    <name>UOX_spent</name>
    <basis>mass</basis>
    <nuclide><id>U235</id> <comp>.008</comp> </nuclide>
    <nuclide><id>U238</id> <comp>0.9268</comp></nuclide>
    <nuclide><id>Pu239</id> <comp>0.012</comp></nuclide>
    <nuclide><id>Am241</id> <comp>0.0011</comp></nuclide>

    <nuclide> <id>Cs137</id> <comp>0.0521</comp> </nuclide>
  </recipe>


</simulation>
